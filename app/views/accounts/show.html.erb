<div class="wrapper">

  <aside class="sidebar">
    <div class="widget widget--sticky--first"><p>投稿一覧<p></div>
    <div class="widget widget--sticky--second"><%= link_to "いいね一覧" , root_path %></div>
  </aside>

  <main class="main">
    <div class="main_container">
      <div class="user_info">
        <% if user_signed_in? && @user == current_user %>
          <h1 class="page_user_name"><%= @user.name %>のマイページ</h1>
          <h3>アドレス：<%= @user.email %></h3>
          <%= link_to "編集ページへ",  edit_user_registration_path(@user) %><br/>
        <% else %>
          <h1 class="page_user_name"><%= @user.name %>のページ</h1>
        <% end %>
      </div>
      <div class="user_image_container">
        <% if @user.image.attached? %>
          <%= image_tag @user.image, class:"user_image" %>
        <% else %>
          <%= image_tag 'icon.png', class:"user_image" %>
        <% end %>
      </div>
    </div>
    <div class="post_container">
      <h3>投稿一覧</h3>
      <% @posts.each do |p| %>
          <div class="post">
            <%= image_tag 'icon.png', class:"user_image_post_icon" %>
            <div class="post_contents">
              <div class="post_contents_left">
                <div><%= link_to p.user.name, account_path(p.user.id) %></div>
                <div><%= link_to p.title, post_path(p.id), data: { turbo: false } %></div>
                <div><%= p.body %></div>
                <div><%= p.address %></div>
              </div>
              <div class="post_contents_right">
                <div><%= p.created_at.strftime("%Y年%m月%d日") %></div>
                <div><%= link_to "削除する", post_path(p.id), method: :delete %></div>
              </div>
            </div>
          </div>
      <% end %>
    </div>
  </main>

</div>
